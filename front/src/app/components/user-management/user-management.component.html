<app-menu-admin></app-menu-admin>
<p-toast></p-toast>
<h1>Gesti√≥n de Usuarios</h1>
<div class="insertUser">
   <button>Agregar Usuario</button>
</div>
<div class="table-container">
   <div class="table-card">
      <h2>Cuentas Activadas</h2>
      @if (hasSelectedUsers) {
         <div>
            <button (click)="deleteUsers()">Eliminar usuarios seleccionados</button>
            <button>Desactivar Cuenta</button>
         </div>
      }
      <table>
         <tr>
            <th><input type="checkbox" [checked]="allUsersSelected" (change)="selectAllUsers($event)"></th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Email</th>
         </tr>
         @for (user of activeUsers; track user){
            <tr>
               <td><input type="checkbox" [checked]="user.selected" (change)="toggleSelect(user)"></td>
               <td>{{ user.firstName }}</td>
               <td>{{ user.lastName }}</td>
               <td>{{ user.email }}</td>
            </tr>
         }
      </table>
   </div>
   <div class="table-card">
      <h2>Cuentas Sin Activar</h2>
      
      <table>
         <tr>
            <th><input type="checkbox" [checked]="allUsersSelected" (change)="selectAllUsers($event)"></th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Email</th>
         </tr>
         @for (user of inactiveUsers; track user){
            <tr>
               <td><input type="checkbox" [checked]="user.selected" (change)="toggleSelect(user)"></td>
               <td>{{ user.firstName }}</td>
               <td>{{ user.lastName }}</td>
               <td>{{ user.email }}</td>
            </tr>
      }
      </table>
   </div>
   <!-- <button (click)="deleteUser(user.id)">Eliminar</button> -->
</div>
